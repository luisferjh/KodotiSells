CREATE TABLE Client(
	IdClient INTEGER PRIMARY KEY IDENTITY,
	ClientName VARCHAR(50) NOT NULL UNIQUE
);

CREATE TABLE Product(
	IdProduct INTEGER PRIMARY KEY IDENTITY,
	ProductName VARCHAR(50) NOT NULL UNIQUE,
	Price DECIMAL(11,2) NOT NULL
);


CREATE TABLE Invoice(
	IdInvoice INTEGER PRIMARY KEY IDENTITY,
	IdClient INTEGER NOT NULL,
	Iva DECIMAL(11,2) NOT NULL,
	Subtotal DECIMAL(11,2) NOT NULL,
	Total DECIMAL(11,2) NOT NULL,
	FOREIGN KEY (IdClient) REFERENCES Client(IdClient)
);

CREATE TABLE InvoiceDetail(
	IdInvoiceDetail INTEGER PRIMARY KEY IDENTITY,
	IdInvoice INTEGER,
	IdProduct INTEGER NOT NULL,
	Quantity INTEGER NOT NULL,
	Price DECIMAL(11,2) NOT NULL,
	Iva DECIMAL(11,2) NOT NULL,
	Subtotal DECIMAL(11,2) NOT NULL,
	FOREIGN KEY (IdInvoice) REFERENCES Invoice(IdInvoice),
	FOREIGN KEY (IdProduct) REFERENCES Product(IdProduct)
);

